{
  "id": "b94f7d4a-eed8-4394-bcbe-62010c347d94",
  "name": "doScript",
  "type": "DETERMINISTIC",
  "description": "",
  "parentPathId": "a4efbbbf-c6e9-4e3e-97d8-3715dceb7b01",
  "revisionId": "9126fc4b-7a28-4a6e-a0b3-5f61586e1ff4",
  "revisionXml": "<?xml version=\"1.0\" encoding=\"UTF-8\"?><bpmn2:definitions xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:bpmn2=\"http://www.omg.org/spec/BPMN/20100524/MODEL\" xmlns:bpmndi=\"http://www.omg.org/spec/BPMN/20100524/DI\" xmlns:dc=\"http://www.omg.org/spec/DD/20100524/DC\" xmlns:di=\"http://www.omg.org/spec/DD/20100524/DI\" xmlns:prop=\"http://www.ipsoft.com/schema/bpmn/prop\" id=\"sample-diagram\" targetNamespace=\"http://bpmn.io/schema/bpmn\" xsi:schemaLocation=\"http://www.omg.org/spec/BPMN/20100524/MODEL BPMN20.xsd\">\n  <bpmn2:process id=\"Process_1\" name=\"doScript\" isExecutable=\"false\">\n    <bpmn2:startEvent id=\"StartEvent_1\">\n      <bpmn2:outgoing>SequenceFlow_1s13mp2</bpmn2:outgoing>\n    </bpmn2:startEvent>\n    <bpmn2:userTask id=\"Task_0av88n0\" name=\" say let's get started\">\n      <bpmn2:incoming>SequenceFlow_1s13mp2</bpmn2:incoming>\n      <bpmn2:outgoing>SequenceFlow_0lcki5w</bpmn2:outgoing>\n    </bpmn2:userTask>\n    <bpmn2:scriptTask id=\"Task_1x0by6m\" name=\"get user first and last name\" scriptFormat=\"groovy\">\n      <bpmn2:extensionElements>\n        <prop:property name=\"included_scripts\" value=\"\"/>\n      </bpmn2:extensionElements>\n      <bpmn2:incoming>SequenceFlow_0lcki5w</bpmn2:incoming>\n      <bpmn2:outgoing>SequenceFlow_137pkwc</bpmn2:outgoing>\n      <bpmn2:script>try {\n\nlog.info(\"Starts !!\")\ndef user = userService.getUser();\ndef myFirstname = user.firstName();\ndef myLastname = user.lastName();\nlog.info(\"myFirstname  :\"+myFirstname);\nexecution.setVariable(\"firstName\", myFirstname);\nexecution.setVariable(\"lastName\", myLastname);\nint luckyno = Math.random()*100;\nexecution.setVariable(\"luckyno\",luckyno);\n\n} catch (Exception e){\n    log.info(\"Error fooing\", e)\n}</bpmn2:script>\n    </bpmn2:scriptTask>\n    <bpmn2:userTask id=\"Task_094i5pb\" name=\" say ${firstName}\">\n      <bpmn2:incoming>SequenceFlow_137pkwc</bpmn2:incoming>\n      <bpmn2:outgoing>SequenceFlow_0wn5pmk</bpmn2:outgoing>\n    </bpmn2:userTask>\n    <bpmn2:userTask id=\"Task_1maxy7m\" name=\"  say ${lastName}, today lucky no is ${luckyno}\">\n      <bpmn2:incoming>SequenceFlow_0wn5pmk</bpmn2:incoming>\n      <bpmn2:incoming>SequenceFlow_0mu93xy</bpmn2:incoming>\n      <bpmn2:outgoing>SequenceFlow_0pmvvkx</bpmn2:outgoing>\n    </bpmn2:userTask>\n    <bpmn2:sequenceFlow id=\"SequenceFlow_1s13mp2\" sourceRef=\"StartEvent_1\" targetRef=\"Task_0av88n0\"/>\n    <bpmn2:sequenceFlow id=\"SequenceFlow_0lcki5w\" sourceRef=\"Task_0av88n0\" targetRef=\"Task_1x0by6m\"/>\n    <bpmn2:sequenceFlow id=\"SequenceFlow_137pkwc\" sourceRef=\"Task_1x0by6m\" targetRef=\"Task_094i5pb\"/>\n    <bpmn2:sequenceFlow id=\"SequenceFlow_0wn5pmk\" sourceRef=\"Task_094i5pb\" targetRef=\"Task_1maxy7m\"/>\n    <bpmn2:sequenceFlow id=\"SequenceFlow_0pmvvkx\" sourceRef=\"Task_1maxy7m\" targetRef=\"Task_16o0ee3\"/>\n    <bpmn2:userTask id=\"Task_16o0ee3\" name=\"Ask do you want to continue ?\">\n      <bpmn2:incoming>SequenceFlow_0pmvvkx</bpmn2:incoming>\n      <bpmn2:outgoing>SequenceFlow_0592oh4</bpmn2:outgoing>\n    </bpmn2:userTask>\n    <bpmn2:endEvent id=\"EndEvent_0lhdx6s\">\n      <bpmn2:incoming>SequenceFlow_026ugda</bpmn2:incoming>\n    </bpmn2:endEvent>\n    <bpmn2:sequenceFlow id=\"SequenceFlow_026ugda\" name=\"\" sourceRef=\"ExclusiveGateway_08xaxu4\" targetRef=\"EndEvent_0lhdx6s\">\n      <bpmn2:extensionElements>\n        <prop:property name=\"expression\" value=\"\"/>\n      </bpmn2:extensionElements>\n    </bpmn2:sequenceFlow>\n    <bpmn2:sequenceFlow id=\"SequenceFlow_0mu93xy\" name=\"${result eq true} \" sourceRef=\"ExclusiveGateway_08xaxu4\" targetRef=\"Task_1maxy7m\">\n      <bpmn2:extensionElements>\n        <prop:property name=\"expression\" value=\"${result eq true} \"/>\n      </bpmn2:extensionElements>\n    </bpmn2:sequenceFlow>\n    <bpmn2:scriptTask id=\"Task_1el3p4z\" name=\"process response\" scriptFormat=\"groovy\">\n      <bpmn2:extensionElements>\n        <prop:property name=\"included_scripts\" value=\"\"/>\n      </bpmn2:extensionElements>\n      <bpmn2:incoming>SequenceFlow_0592oh4</bpmn2:incoming>\n      <bpmn2:outgoing>SequenceFlow_10j7q3r</bpmn2:outgoing>\n      <bpmn2:script>log.info(\"Started\")\n\ndef response = execution.getVariable(\"response\")\n\nboolean result\n\nif (response.equals(\"yes\")) \n{ \n    result = true;\n}\n\nexecution.setVariable(\"result\", result)</bpmn2:script>\n    </bpmn2:scriptTask>\n    <bpmn2:sequenceFlow id=\"SequenceFlow_0592oh4\" sourceRef=\"Task_16o0ee3\" targetRef=\"Task_1el3p4z\"/>\n    <bpmn2:sequenceFlow id=\"SequenceFlow_10j7q3r\" sourceRef=\"Task_1el3p4z\" targetRef=\"ExclusiveGateway_08xaxu4\"/>\n    <bpmn2:inclusiveGateway id=\"ExclusiveGateway_08xaxu4\" default=\"SequenceFlow_026ugda\">\n      <bpmn2:incoming>SequenceFlow_10j7q3r</bpmn2:incoming>\n      <bpmn2:outgoing>SequenceFlow_026ugda</bpmn2:outgoing>\n      <bpmn2:outgoing>SequenceFlow_0mu93xy</bpmn2:outgoing>\n    </bpmn2:inclusiveGateway>\n  </bpmn2:process>\n  <bpmndi:BPMNDiagram id=\"BPMNDiagram_1\">\n    <bpmndi:BPMNPlane id=\"BPMNPlane_1\" bpmnElement=\"Process_1\">\n      <bpmndi:BPMNShape id=\"_BPMNShape_StartEvent_2\" bpmnElement=\"StartEvent_1\">\n        <dc:Bounds x=\"178\" y=\"180\" width=\"36\" height=\"36\"/>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"UserTask_18r1mqf_di\" bpmnElement=\"Task_0av88n0\">\n        <dc:Bounds x=\"256\" y=\"158\" width=\"120\" height=\"80\"/>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"ScriptTask_0jc631t_di\" bpmnElement=\"Task_1x0by6m\">\n        <dc:Bounds x=\"415\" y=\"158\" width=\"120\" height=\"80\"/>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"UserTask_15xjimq_di\" bpmnElement=\"Task_094i5pb\">\n        <dc:Bounds x=\"579\" y=\"158\" width=\"120\" height=\"80\"/>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"UserTask_1t54axu_di\" bpmnElement=\"Task_1maxy7m\">\n        <dc:Bounds x=\"726\" y=\"158\" width=\"120\" height=\"80\"/>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNEdge id=\"SequenceFlow_1s13mp2_di\" bpmnElement=\"SequenceFlow_1s13mp2\">\n        <di:waypoint x=\"214\" y=\"198\"/>\n        <di:waypoint x=\"256\" y=\"198\"/>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"SequenceFlow_0lcki5w_di\" bpmnElement=\"SequenceFlow_0lcki5w\">\n        <di:waypoint x=\"376\" y=\"198\"/>\n        <di:waypoint x=\"415\" y=\"198\"/>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"SequenceFlow_137pkwc_di\" bpmnElement=\"SequenceFlow_137pkwc\">\n        <di:waypoint x=\"535\" y=\"198\"/>\n        <di:waypoint x=\"579\" y=\"198\"/>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"SequenceFlow_0wn5pmk_di\" bpmnElement=\"SequenceFlow_0wn5pmk\">\n        <di:waypoint x=\"699\" y=\"198\"/>\n        <di:waypoint x=\"726\" y=\"198\"/>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"SequenceFlow_0pmvvkx_di\" bpmnElement=\"SequenceFlow_0pmvvkx\">\n        <di:waypoint x=\"786\" y=\"238\"/>\n        <di:waypoint x=\"786\" y=\"283\"/>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNShape id=\"UserTask_1iv7jl3_di\" bpmnElement=\"Task_16o0ee3\">\n        <dc:Bounds x=\"726\" y=\"283\" width=\"120\" height=\"80\"/>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"EndEvent_0lhdx6s_di\" bpmnElement=\"EndEvent_0lhdx6s\">\n        <dc:Bounds x=\"957\" y=\"293\" width=\"36\" height=\"36\"/>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNEdge id=\"SequenceFlow_026ugda_di\" bpmnElement=\"SequenceFlow_026ugda\">\n        <di:waypoint x=\"932\" y=\"311\"/>\n        <di:waypoint x=\"957\" y=\"311\"/>\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"934\" y=\"293\" width=\"23\" height=\"14\"/>\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"SequenceFlow_0mu93xy_di\" bpmnElement=\"SequenceFlow_0mu93xy\">\n        <di:waypoint x=\"907\" y=\"286\"/>\n        <di:waypoint x=\"907\" y=\"198\"/>\n        <di:waypoint x=\"846\" y=\"198\"/>\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"894\" y=\"225\" width=\"78\" height=\"14\"/>\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNShape id=\"ScriptTask_0s94joj_di\" bpmnElement=\"Task_1el3p4z\">\n        <dc:Bounds x=\"726\" y=\"409\" width=\"120\" height=\"80\"/>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNEdge id=\"SequenceFlow_0592oh4_di\" bpmnElement=\"SequenceFlow_0592oh4\">\n        <di:waypoint x=\"786\" y=\"363\"/>\n        <di:waypoint x=\"786\" y=\"409\"/>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"SequenceFlow_10j7q3r_di\" bpmnElement=\"SequenceFlow_10j7q3r\">\n        <di:waypoint x=\"846\" y=\"449\"/>\n        <di:waypoint x=\"907\" y=\"449\"/>\n        <di:waypoint x=\"907\" y=\"336\"/>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNShape id=\"InclusiveGateway_1vuh3jx_di\" bpmnElement=\"ExclusiveGateway_08xaxu4\">\n        <dc:Bounds x=\"882\" y=\"286\" width=\"50\" height=\"50\"/>\n      </bpmndi:BPMNShape>\n    </bpmndi:BPMNPlane>\n  </bpmndi:BPMNDiagram>\n</bpmn2:definitions>",
  "domainId": "65e03585-771b-4db9-8a7d-8f81b866c237",
  "status": "NEW"
}